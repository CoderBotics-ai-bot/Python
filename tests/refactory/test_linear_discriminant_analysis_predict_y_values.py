from machine_learning.linear_discriminant_analysis import *
import pytest


def test_predict_y_values_type():
    x_items = [
        [
            6.288184753155463,
            6.4494456086997705,
            5.066335808938262,
            4.235456349028368,
            3.9078267848958586,
            5.031334516831717,
            3.977896829989127,
            3.56317055489747,
            5.199311976483754,
            5.133374604658605,
            5.546468300338232,
            4.086029056264687,
            5.005005283626573,
            4.935258239627312,
            3.494170998739258,
            5.537997178661033,
            5.320711100998849,
            7.3891120432406865,
            5.202969177309964,
            4.855297691835079,
        ],
        [
            11.288184753155463,
            11.44944560869977,
            10.066335808938263,
            9.235456349028368,
            8.907826784895859,
            10.031334516831716,
            8.977896829989128,
            8.56317055489747,
            10.199311976483754,
            10.133374604658606,
            10.546468300338232,
            9.086029056264687,
            10.005005283626572,
            9.935258239627313,
            8.494170998739259,
            10.537997178661033,
            10.320711100998848,
            12.389112043240686,
            10.202969177309964,
            9.85529769183508,
        ],
        [
            16.288184753155463,
            16.449445608699772,
            15.066335808938263,
            14.235456349028368,
            13.907826784895859,
            15.031334516831716,
            13.977896829989128,
            13.56317055489747,
            15.199311976483754,
            15.133374604658606,
            15.546468300338232,
            14.086029056264687,
            15.005005283626572,
            14.935258239627313,
            13.494170998739259,
            15.537997178661033,
            15.320711100998848,
            17.389112043240686,
            15.202969177309964,
            14.85529769183508,
        ],
    ]

    means = [5.011267842911003, 10.011267842911003, 15.011267842911002]
    variance = 0.9618530973487494
    probabilities = [0.3333333333333333, 0.3333333333333333, 0.3333333333333333]
    res = predict_y_values(x_items, means, variance, probabilities)
    assert isinstance(res, list), f"Expected list but got {type(res)}."


def test_predict_y_values_zero():
    x_items = [
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ]

    means = [0, 0, 0]
    variance = 0
    probabilities = [0, 0, 0]
    with pytest.raises(ZeroDivisionError):
        predict_y_values(x_items, means, variance, probabilities)
